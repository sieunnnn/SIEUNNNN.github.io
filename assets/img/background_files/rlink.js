var st=Object.defineProperty;var ct=(e,t,n)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var y=(e,t,n)=>ct(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const lt="/assets/ab-DWUCLfjz.png",ut="/assets/abp-B-IR2hZz.png",dt="/assets/adguard-5fYuaDe3.png",ft="/assets/brave-CptCdM5a.png",gt="/assets/bt-logo-CioIXMoh.svg",ht="/assets/bt-rlink-storage-DJolxq7O.html",_t="/assets/close-pUUxwf_B.svg",mt="/assets/opera-Bw-jHxyw.png",bt="/assets/ublock-origin-uCPCPquD.png",pt="/assets/ublock-J9bayp5W.png",wt=e=>new URL(Object.assign({"./ab.png":lt,"./abp.png":ut,"./adguard.png":dt,"./brave.png":ft,"./bt-logo.svg":gt,"./bt-rlink-storage.html":ht,"./close.svg":_t,"./opera.png":mt,"./ublock-origin.png":bt,"./ublock.png":pt})[`./${e}`],import.meta.url).href,vt="modulepreload",yt=function(e){return"/"+e},fe={},At=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=yt(c),c in fe)return;fe[c]=!0;const u=c.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vt,u||(d.as="script"),d.crossOrigin="",d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((R,P)=>{d.addEventListener("load",R),d.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return o.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},St="https://ad-delivery.net/px.gif?ch=2",Et="https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250",Rt="https://ad-delivery.net/px.gif?ch=1&e="+Math.random();let O=null;async function It(){return Promise.all([Pt(),Dt()]).then(e=>(window.__bt_intrnl.aaDetectionResults={ab:e[0],acceptable:e[1]},window.__bt_intrnl.aaDetectionResults))}async function kt(){return window.__bt_intrnl.aaDetectionResults?window.__bt_intrnl.aaDetectionResults:O||(O=It(),O)}async function Pt(){const[e,t]=await Promise.all([$(St),$(Et)]),n=xt();return(e?n||t:n&&t)||!1}async function Dt(e=Rt){return!await $(e)}async function $(e){if(await Tt(e))return!0;try{const n=await fetch(e);if(n.redirected&&n.url==="data:text/plain;base64,Cg==")throw new Error("Extension driven redirect detected");return!1}catch{return!0}}function xt(){const e=document.createElement("div");e.innerHTML="&nbsp;",e.className="ads ad adsbox doubleclick ad-placement carbon-ads adglare",e.setAttribute("id","bt-bait-element"),e.style.cssText="width: 1px !important; height: 1px !important; position: absolute !important; left: -5000px !important; top: -5000px !important;";try{(window.document.body||window.document.documentElement).appendChild(e);const t=document.getElementById("bt-bait-element");if(t.offsetHeight===0||t.clientHeight===0)return N(e),!0;if(window.getComputedStyle!==void 0){const n=window.getComputedStyle(t,null);if(n&&(n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"))return N(e),!0}}catch{return N(e),null}return N(e),!1}function Tt(e,t="img"){return new Promise(n=>{const r=document.createElement(t);r.style.setProperty("display","none","important"),r.style.setProperty("width","1px","important"),r.style.setProperty("height","1px","important");let o=!1;function i(a){o||(o=!0,n(a))}r.addEventListener("error",function(){i(!0)}),r.addEventListener("load",function(){i(!1)}),r.src=e,(window.document.body||window.document.documentElement).appendChild(r)})}function N(e){(window.document.body||window.document.documentElement).removeChild(e)}const Pe=()=>[{key:"bt_mwr",val:"true"},{key:"bt_wid",val:T}],Lt=()=>{Mt(),Nt()},Mt=()=>{const e=Ct();return e.length===0?!1:(e.forEach(t=>Ut(t)),!0)},Ct=()=>window._pbjsGlobals?window._pbjsGlobals.map(e=>window[e]).filter(Boolean).map(Bt):[],Ut=e=>{Pe().forEach(n=>{e.bidderSettings.standard.adserverTargeting.push(Ot(n.key,n.val))})},Bt=e=>{var t,n,r;return e.bidderSettings={...e.bidderSettings,standard:{...(t=e.bidderSettings)==null?void 0:t.standard,adserverTargeting:[...((r=(n=e.bidderSettings)==null?void 0:n.standard)==null?void 0:r.adserverTargeting)||[]]}},e},Ot=(e,t)=>({key:e,val:()=>t}),Nt=()=>{var e,t;(t=(e=window.googletag)==null?void 0:e.cmd)==null||t.push(function(){Pe().forEach(r=>{window.googletag.pubads().setTargeting(r.key,r.val)})})},De=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>{const n=e.get(t);return n==="true"?!0:n==="false"?!1:n}}),Ht=De.bt_env||"prod",k=De.preview??!1;async function x(e){const t=await ot();k||Ft({traceID:Ye,sessionID:Xe,orgID:Number(D),websiteID:Number(T),scriptVersion:"82146e4-am",scriptLoadingMode:window.__bt_rlink_loaded_from_tag?"inject_from_tag_script":"standalone",meta:{pageURL:window.location.href,"abtest-presentation-version":t.view,consentData:window.__bt_intrnl.consentData},...e})}function Ft(e){return fetch(`https://${E}/events/mw`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"no-cors",keepalive:!0})}const Wt="chrome-extension://gighmmpiobklfepjocnamgkkbiglidom/icons/ab-19.png",Vt="https://ad-delivery.net/px.gif?ch=2",qt="https://ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250",Kt="https://ad-delivery.net/px.gif?ch=1&e="+Math.random();async function jt(){try{return(await fetch(new Request(Wt))).ok?"ab":void 0}catch{return}}async function zt(){try{const e=navigator.userAgent;if(e.includes("OPR/")||e.includes("Opera/")||window.opr!==void 0)return"opr"}catch{return}}async function Gt(){try{const e=await fetch(new Request(`https://${Fr}/webfonts43j533.js`));return!e.ok&&e.status===404?null:void 0}catch{return"ublock"}}async function $t(){for(const e of[Vt,qt,Kt])try{const t=await fetch(e);if(t.redirected&&t.url==="data:text/plain;base64,Cg==")return"ublockorigin"}catch{continue}}async function Yt(){try{if(navigator.brave!==void 0&&navigator.brave.isBrave.name==="isBrave")return"brave"}catch{return}}async function Xt(){const[e,t,n,r,o]=await Promise.all([jt(),zt(),Gt(),Yt(),$t()]);return e||t||n||r||o||"unknown"}const S="BT_AM_SOFTWALL_RENDERED",vo=()=>sessionStorage.getItem(S)==="true";async function Jt(e){if(window.__bt_intrnl.recoveryUserAttr)return window.__bt_intrnl.recoveryUserAttr.mwRendered;const t=!!localStorage.getItem(S);return!t&&e.enabled?rr().then(()=>!!localStorage.getItem(S)).catch(()=>!1):t}const V=()=>{const e=localStorage.getItem(S);return e?new Date(e):void 0},yo=()=>{Qt(),je()},Qt=()=>{sessionStorage.setItem(S,"true"),localStorage.setItem(S,new Date().toUTCString())},Zt=e=>{localStorage.setItem(S,new Date(e).toUTCString())},xe=()=>{localStorage.removeItem(S),sessionStorage.removeItem(S)},en="tid",tn="cv",nn="sid",Te={};function ge(e,t){Te[e]=t}async function b(e,t={},n={severity:1}){var c;if(k)return;const r={[en]:Ye,[tn]:((c=window.__bt_tag_d)==null?void 0:c.version)||"",[nn]:Xe,upapi:String(!0)},o={...Te,...t},i={event:e,meta:o,orgID:D,severity:n.severity,websiteID:T},a=new URLSearchParams(r),s=new URL(`https://${E}/log?`+a);return fetch(s,{method:"POST",body:JSON.stringify(i),keepalive:!0})}function rn(e){return Math.floor(Math.random()*Math.floor(e))}function on(e=1){return rn(100)<e}let h=null;const Y=wt("bt-rlink-storage.html"),Le="rlink-storage",an=async()=>{if(h=document.getElementById(Le),h)return h;try{h=await sn(Y)}catch(e){throw new Error(`Failed to initialize iframe: ${e}`)}},sn=e=>new Promise((t,n)=>{if(h){t(h);return}h=document.createElement("iframe"),h.src=e,h.id=Le,h.style.display="none",document.body.appendChild(h),h.onload=()=>{t(h)},h.onerror=()=>{n("Failed to load iframe")}}),Q=e=>new Promise((t,n)=>{const r={...e,trustedRLEvent:!0};if(!r||!r.action||!r.key){n("Invalid message format");return}function o(i){i.origin===new URL(Y).origin&&(i.data.status==="success"?t(i.data.value):n("Failed on handle the message"),window.removeEventListener("message",o))}window.addEventListener("message",o),h.contentWindow.postMessage(r,Y)}).catch(t=>{b("rlink.iframe-error",{error:t})}),Z=async()=>{h||await an()},I="BT_AM_SOFTWALL_DISMISSED",cn=async()=>{const e=sessionStorage.getItem(I)||await Me();if(e)try{return JSON.parse(e)}catch(t){console.error(t)}},Me=async()=>(await Z(),await Q({action:"get-session-data",key:I})),ln=async()=>sessionStorage.getItem(I)!==null?!0:await Me()!==null,un=async e=>{const t=JSON.stringify(e);sessionStorage.setItem(I,t),await Z(),await Q({action:"set-session-data",key:I,value:t})},dn=async()=>{sessionStorage.removeItem(I),await Z(),await Q({action:"remove-session-data",key:I})},ee="BT_AM_ATTRIBUTION_EXPIRY",Ce=()=>{if(window.__bt_intrnl.recoveryUserAttr)return window.__bt_intrnl.recoveryUserAttr.attributionExpiry;const e=localStorage.getItem(ee);return e?Number(e):void 0},Ue=e=>localStorage.setItem(ee,e.toString()),fn=()=>localStorage.removeItem(ee),te="BT_AM_SCA_SUCCEED",Be=()=>sessionStorage.getItem(te)==="true",Ao=e=>sessionStorage.setItem(te,e.toString()),gn=()=>sessionStorage.removeItem(te),q="BT_AM_SOFTWALL_RECOVERED",hn=()=>localStorage.getItem(q)!==null;function _n(e,t,n){const r=Oe();let o;t.ab?t.acceptable&&!e.allow_render_to_aa_users&&(o="AA"):o="AB";const i=wn();if((r||!i)&&o===void 0&&xe(),!(!r&&!i)){if(o==="AB"){const a=Be();o=(n==null?void 0:n.status)&&(n==null?void 0:n.source)==="1ca"||a?"SCA":o}return o}}function Oe(){return window.__bt_intrnl.recoveryUserAttr?window.__bt_intrnl.recoveryUserAttr.recoveryType:localStorage.getItem(q)||void 0}const mn=(e,t)=>{Ne(e),Ue(t),je(e,t)},Ne=e=>localStorage.setItem(q,e),bn=()=>localStorage.removeItem(q),pn=7,wn=()=>{const e=V();return e?vn(e)<=pn:!1},vn=(e,t=new Date)=>Math.round(Math.abs(e.getTime()-t.getTime())/se),ne="BT_AM_SOFTWALL_REDIRECT",So=()=>sessionStorage.getItem(ne)==="true",Eo=()=>sessionStorage.setItem(ne,"true"),yn=()=>sessionStorage.removeItem(ne),re="BT_AM_SOFTWALL_BOUNCE",An=()=>sessionStorage.getItem(re)==="true",Sn=()=>sessionStorage.setItem(re,"true"),En=()=>sessionStorage.removeItem(re),oe="BT_AM_PREMIUM_ADBLOCK_USER_DETECTED",ie="BT_AM_PREMIUM_ADBLOCK_USER_DETECTION_DATE",j=()=>{throw localStorage.removeItem(oe),localStorage.removeItem(ie),new Error("invalid or inexistent premium detection data")},Rn=()=>{const e=localStorage.getItem(ie),t=localStorage.getItem(oe);try{(!e||!t)&&j();const n=new Date(e);Date.now()-n.getTime()>se&&j();const r=JSON.parse(t);return(typeof r!="object"||r===null||!("isPremium"in r)||!("extensionInfo"in r))&&j(),{isPremium:r.isPremium,extensionInfo:r.extensionInfo}}catch{return null}},In=e=>{localStorage.setItem(oe,JSON.stringify(e)),localStorage.setItem(ie,new Date().toUTCString())},He="BT_AM_SOFTWALL_RENDER_COUNT";let he=!1;const kn=()=>{if(he)return;const e=Fe();Pn(e+1),he=!0},Fe=()=>{const e=localStorage.getItem(He);return e?Number(e):0},Pn=e=>{localStorage.setItem(He,e.toString())};var Se;const Dn=((Se=window.__bt_intrnl)==null?void 0:Se.timings)??{shouldLog:!1},xn=Date.now(),{shouldLog:Tn}=Dn;function Ln(){const e="timing.rlinkScriptLoaded",t={timestamp:String(xn)};Tn&&b(e,t)}const Mn=2;async function Cn(){return new Promise((e,t)=>{if(typeof(w==null?void 0:w.__tcfapi)=="function"){const n=(r,o)=>{o?e(r):t("failed to get TCData")};w.__tcfapi("addEventListener",Mn,n)}t("tcfapi not found")})}const Un=e=>(e==null?void 0:e.eventStatus)==="tcloaded"?!1:(e==null?void 0:e.eventStatus)==="useractioncomplete"||(e==null?void 0:e.eventStatus)==="cmpuishown",Bn=e=>{var t;return e?e.gdprApplies===!1?!0:!!(!On((t=e.purpose)==null?void 0:t.consents)&&Nn(e.purpose)):!1},On=(e={})=>!Object.values(e).some(Boolean),Nn=e=>[1,2,3,4,7,9,10].every(n=>{var r;return(r=e==null?void 0:e.consents)==null?void 0:r[n]}),Hn=e=>{const t={tcDataDefined:!!e,gdprApplies:e==null?void 0:e.gdprApplies};return!e||e.gdprApplies===!1?{consentShownInCurrentPV:!1,isConsentGiven:!0,meta:t}:{consentShownInCurrentPV:Un(e),isConsentGiven:Bn(e),meta:t}};async function Fn(){return Cn().then(e=>Hn(e)).catch(e=>(on()&&b("rlink.getConsent",{pageURL:w.location.href,error:e},{severity:3}),{consentShownInCurrentPV:!1,isConsentGiven:!0,meta:{tcDataDefined:!1}}))}function _e(){xe(),bn(),yn(),En(),fn(),gn(),dn()}function Wn(){const e=V(),t=Oe(),n=Ce();if(!(!e&&!t&&!n))return{recoveryType:t,renderDate:e,attributionExpiry:n}}const Vn=`MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEApyRTinEzv3cHH2bn6WSF
myqzDE/Ub8Xh/jhGWsSgHiJ6A/iM9GdlEE3WDl6ITw2ssuQ1xELT2xRpP9vR8OHR
YvyMfQtsjOsvMhXuR3X5Cf2nqSEo5ShihdE2W9kXxxWqs3yx4odnan6W65rfQWal
EJ8Y5viVEckj8x65+PTsDKfNtXMEvHqqrX9SaPC5rnZuWKkPuEJJna5ux/MEHuHQ
D6SFqhtPGKUYKf16pCFLD9oh6s6XcLST8GRZ2ySgdJKTMkHOHjjPkzXxYmTC1fYD
YO/THL+c9KvCpCWDd0yA6wEVABx2m7SYZzLkYVEze4SghGYQhWXLNwtj5tVzYGn0
+FoSNd9l3KJK/ULLd0HopuqYmz6TaK53x2rnjQ19epKSinRdPskmnz9RPzxojfli
SZgTQw47d6VV8J3K5HoLHtZ8vDD+KtYDNqHgLIG5jLsQLowetQAeRHqvo+KuIlzN
hIlNNOVq+Wlfe3nSsXlZGnKkqGC/4Bc39o82G4POR8qv98DRKm/6ihQAmWP7DUK2
HTumpVCsP4FRdaE2BT5BaAdXtoLmfHw6CsBSGFY0ZRmETsIIPhs8BIZg2EDd+Y/X
0Y8npvz5k4HxbTHS6pPO4hloPRwJ2MGZWwWtI2IppR749tONgOm4FI9tjUFLMLgU
ObHdD9PpRCG9MkGls9iSadkCAwEAAQ==`,We={name:"RSASSA-PKCS1-v1_5",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-512"}};function Ve(e){if(typeof window<"u"&&window.atob)return window.atob(e);if(typeof Buffer<"u")return Buffer.from(e,"base64").toString("utf-8");throw new Error("Unable to decode base64 string: No suitable method found")}const qe=e=>new Uint8Array(Array.from(Ve(e),t=>t.charCodeAt(0)));function qn(e){return crypto.subtle.importKey("spki",qe(e),We,!1,["verify"])}async function Kn(e,t,n){return await crypto.subtle.verify(We,await qn(e),t,n)}function jn(e){return Kn(Vn,qe(e.signature),new TextEncoder().encode(e.encodedData))}class zn{constructor(t){y(this,"singletonDetection");y(this,"premiumBypassModeEnabled");y(this,"RLEnabled");this.RLEnabled=t.enabled,this.premiumBypassModeEnabled=t.premium_bypass_mode_enabled,this.singletonDetection=this.detectPremiumABUser()}async detectPremiumABUser(){return this.singletonDetection!==void 0?this.singletonDetection:(this.singletonDetection=new Promise(t=>{this.handlePreviousDetection(t)}),this.singletonDetection)}handlePreviousDetection(t){if(k||!this.RLEnabled){t({isPremium:!1,extensionInfo:null});return}const n=Rn();if(n){t(n);return}this.fetchAndHandlePayload(t)}async fetchAndHandlePayload(t){let n=!1;const r=o=>{n||(t(o),n=!0)};try{const i=await(await fetch(`https://${E}/mw/sign_pbm?w=${T}&bt_env=${M}`)).json(),a=setTimeout(()=>{r({isPremium:!1,extensionInfo:null}),document.removeEventListener("flattr-payload",s)},1e3),s=async u=>{clearTimeout(a),document.removeEventListener("flattr-payload",s);let g=!1,d=null;if(this.premiumBypassModeEnabled&&typeof u.detail.payload=="string"){const[R,P]=u.detail.payload.split(".");try{if(await jn({encodedData:R,signature:P})){const{isPaying:U,expiresAt:B}=JSON.parse(Ve(R));U&&Date.now()<Number(B)&&(g=!0)}}catch(C){console.error("Error verifying premium signature:",C)}}u.detail.extensionInfo&&(d=u.detail.extensionInfo),r({isPremium:g,extensionInfo:d})};document.addEventListener("flattr-payload",s);const c=new CustomEvent("flattr-request-payload",{detail:i});document.dispatchEvent(c)}catch{r({isPremium:!1,extensionInfo:null})}}}let z=null;async function Gn(e){return z||(z=new zn(e)),z.detectPremiumABUser()}const Ke="btUserCountry";let G;const $n=async()=>{let e=sessionStorage.getItem(Ke)||void 0;return e||(G||(G=Yn()),e=await G,e&&Xn(e),e)},Yn=async()=>{const e=window.__bt_tag_am.settings;try{const t=await fetch(`https://${E}/country`);if(!t.ok)throw new Error(`Request failed. Status: ${t.status}. Raw: ${await t.text()}`);const n=await t.json();if(!n.country)throw new Error(`unexpected response: ${JSON.stringify(n)}`);return n.country}catch(t){b("rlink.detectCountry",{settings:{countryList:e.country_code_list,countryMode:e.country_code_mode,renderToAA:e.allow_render_to_aa_users,singleClick:e.single_click_enabled},aaResults:window.__bt_intrnl.aaDetectionResults,countryError:t.message,pageURL:window.location.href},{severity:4});return}},Xn=e=>{sessionStorage.setItem(Ke,e)},Jn=async e=>{var r;if(!e.enabled||ae())return!1;const t=window.location.href;if((r=e.allowlisted_urls)!=null&&r.some(o=>t.startsWith(o)))return!1;if(Fe()<e.page_views_to_render)return kn(),!1;const n=V();if(n&&Zn(new Date,n)<e.render_interval_days)return!1;if(e.country_code_list&&e.country_code_list.length>0){const o=await $n();if(window.__bt_intrnl.country=o,!o)return!1;const i=e.country_code_list.includes(o.toUpperCase());if(i&&e.country_code_mode==="excluding"||!i&&e.country_code_mode==="including")return!1}return!0},Qn=(e,t)=>e&&(!e.ab||e.acceptable&&!t),Zn=(e,t)=>{const n=e.getTime()-t.getTime();return Math.round(n/(1e3*3600*24))};function ae(){const e=navigator.userAgent||navigator.vendor||window.opera;return e?/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)):!1}const se=24*3600*1e3,er=365;function tr(e){return(!e||e<=0)&&(e=er),Date.now()+se*e}function nr(e){return Date.now()>e}function je(e,t){if(k)return Promise.resolve();const n=V()||new Date;or({recoveryType:e,renderDate:n,attributionExpiry:t})}async function rr(){return k?Promise.resolve():fetch(`https://${E}/mw/state?bt_env=${M}`).then(e=>e.json()).then(e=>{const{renderDate:t,recoveryType:n,attributionExpiry:r}=e||{};window.__bt_intrnl.recoveryUserAttr=window.__bt_intrnl.recoveryUserAttr||{mwRendered:!1,recoveryType:void 0,attributionExpiry:void 0},(t||n||r)&&b("rlink.restoreServerSideAttribution",{aaResults:window.__bt_intrnl.aaDetectionResults,serverSideAttribution:e},{severity:2}),t&&(window.__bt_intrnl.recoveryUserAttr.mwRendered=!0,Zt(t)),n&&(window.__bt_intrnl.recoveryUserAttr.recoveryType=n,window.__bt_intrnl.recoveryUserAttr.attributionExpiry=r,Ne(n),Ue(r))}).catch(()=>null)}function or(e){return fetch(`https://${E}/mw/state/recovered?bt_env=${M}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},mode:"no-cors"})}function ir(){let e=window;try{if(top.document)return top}catch{}try{for(;e.parent.document;)e=e.parent}catch{}return e}const w=ir();function ar(){try{return document.location.hostname!==""&&document.location.hostname!==window.parent.location.hostname}catch{return!0}}const sr=ar();function cr(){try{return new URL(sr?w.document.referrer:w.location.href)}catch{return new URL(w.location.href)}}const lr=cr(),ze=(e,t)=>{const n=Ce()||tr(t),r=nr(n);return{isActive:(e==="AB"||e==="SCA")&&!r,attributionExpiry:n}},ce=()=>{const e=[],{languages:t,language:n}=navigator;if(t)for(let r=0;r<t.length;r++)e.push(t[r]);if(n&&e.push(n),e.length>0){const r=e[0],o=r.replace("-","_").split("_");return o[0]==="zh"?ur(r):o[0].toUpperCase()}return"EN"},ur=e=>{switch(e){case"zh_TW":case"zh-TW":return"TW";default:return"ZH"}},Ro={name:"rlinkDetector",lookup(){return ce()}};function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}var dr=/^\s+/,fr=/\s+$/;function l(e,t){if(e=e||"",t=t||{},e instanceof l)return e;if(!(this instanceof l))return new l(e,t);var n=gr(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,o,i,a,s;return n=t.r/255,r=t.g/255,o=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),.2126*i+.7152*a+.0722*s},setAlpha:function(t){return this._a=Ge(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=be(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=be(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),o=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+o+"%)":"hsva("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=me(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=me(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),o=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+o+"%)":"hsla("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return pe(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return br(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(f(this._r,255)*100)+"%",g:Math.round(f(this._g,255)*100)+"%",b:Math.round(f(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(f(this._r,255)*100)+"%, "+Math.round(f(this._g,255)*100)+"%, "+Math.round(f(this._b,255)*100)+"%)":"rgba("+Math.round(f(this._r,255)*100)+"%, "+Math.round(f(this._g,255)*100)+"%, "+Math.round(f(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Dr[pe(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+we(this._r,this._g,this._b,this._a),r=n,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=l(t);r="#"+we(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,o=this._a<1&&this._a>=0,i=!n&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(yr,arguments)},brighten:function(){return this._applyModification(Ar,arguments)},darken:function(){return this._applyModification(Sr,arguments)},desaturate:function(){return this._applyModification(pr,arguments)},saturate:function(){return this._applyModification(wr,arguments)},greyscale:function(){return this._applyModification(vr,arguments)},spin:function(){return this._applyModification(Er,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(kr,arguments)},complement:function(){return this._applyCombination(Rr,arguments)},monochromatic:function(){return this._applyCombination(Pr,arguments)},splitcomplement:function(){return this._applyCombination(Ir,arguments)},triad:function(){return this._applyCombination(ve,[3])},tetrad:function(){return this._applyCombination(ve,[4])}};l.fromRatio=function(e,t){if(W(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=L(e[r]));e=n}return l(e,t)};function gr(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return typeof e=="string"&&(e=Mr(e)),W(e)=="object"&&(A(e.r)&&A(e.g)&&A(e.b)?(t=hr(e.r,e.g,e.b),a=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):A(e.h)&&A(e.s)&&A(e.v)?(r=L(e.s),o=L(e.v),t=mr(e.h,r,o),a=!0,s="hsv"):A(e.h)&&A(e.s)&&A(e.l)&&(r=L(e.s),i=L(e.l),t=_r(e.h,r,i),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Ge(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function hr(e,t,n){return{r:f(e,255)*255,g:f(t,255)*255,b:f(n,255)*255}}function me(e,t,n){e=f(e,255),t=f(t,255),n=f(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i,a,s=(r+o)/2;if(r==o)i=a=0;else{var c=r-o;switch(a=s>.5?c/(2-r-o):c/(r+o),r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:a,l:s}}function _r(e,t,n){var r,o,i;e=f(e,360),t=f(t,100),n=f(n,100);function a(u,g,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(g-u)*6*d:d<1/2?g:d<2/3?u+(g-u)*(2/3-d)*6:u}if(t===0)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=a(c,s,e+1/3),o=a(c,s,e),i=a(c,s,e-1/3)}return{r:r*255,g:o*255,b:i*255}}function be(e,t,n){e=f(e,255),t=f(t,255),n=f(n,255);var r=Math.max(e,t,n),o=Math.min(e,t,n),i,a,s=r,c=r-o;if(a=r===0?0:c/r,r==o)i=0;else{switch(r){case e:i=(t-n)/c+(t<n?6:0);break;case t:i=(n-e)/c+2;break;case n:i=(e-t)/c+4;break}i/=6}return{h:i,s:a,v:s}}function mr(e,t,n){e=f(e,360)*6,t=f(t,100),n=f(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),c=r%6,u=[n,a,i,i,s,n][c],g=[s,n,n,a,i,i][c],d=[i,i,s,n,n,a][c];return{r:u*255,g:g*255,b:d*255}}function pe(e,t,n,r){var o=[v(Math.round(e).toString(16)),v(Math.round(t).toString(16)),v(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function br(e,t,n,r,o){var i=[v(Math.round(e).toString(16)),v(Math.round(t).toString(16)),v(Math.round(n).toString(16)),v($e(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function we(e,t,n,r){var o=[v($e(r)),v(Math.round(e).toString(16)),v(Math.round(t).toString(16)),v(Math.round(n).toString(16))];return o.join("")}l.equals=function(e,t){return!e||!t?!1:l(e).toRgbString()==l(t).toRgbString()};l.random=function(){return l.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function pr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=K(n.s),l(n)}function wr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=K(n.s),l(n)}function vr(e){return l(e).desaturate(100)}function yr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=K(n.l),l(n)}function Ar(e,t){t=t===0?0:t||10;var n=l(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),l(n)}function Sr(e,t){t=t===0?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=K(n.l),l(n)}function Er(e,t){var n=l(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,l(n)}function Rr(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function ve(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=l(e).toHsl(),r=[l(e)],o=360/t,i=1;i<t;i++)r.push(l({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function Ir(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function kr(e,t,n){t=t||6,n=n||30;var r=l(e).toHsl(),o=360/n,i=[l(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(l(r));return i}function Pr(e,t){t=t||6;for(var n=l(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(l({h:r,s:o,v:i})),i=(i+s)%1;return a}l.mix=function(e,t,n){n=n===0?0:n||50;var r=l(e).toRgb(),o=l(t).toRgb(),i=n/100,a={r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a};return l(a)};l.readability=function(e,t){var n=l(e),r=l(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};l.isReadable=function(e,t,n){var r=l.readability(e,t),o,i;switch(i=!1,o=Cr(n),o.level+o.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};l.mostReadable=function(e,t,n){var r=null,o=0,i,a,s,c;n=n||{},a=n.includeFallbackColors,s=n.level,c=n.size;for(var u=0;u<t.length;u++)i=l.readability(e,t[u]),i>o&&(o=i,r=l(t[u]));return l.isReadable(e,r,{level:s,size:c})||!a?r:(n.includeFallbackColors=!1,l.mostReadable(e,["#fff","#000"],n))};var X=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Dr=l.hexNames=xr(X);function xr(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ge(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function f(e,t){Tr(e)&&(e="100%");var n=Lr(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function K(e){return Math.min(1,Math.max(0,e))}function m(e){return parseInt(e,16)}function Tr(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Lr(e){return typeof e=="string"&&e.indexOf("%")!=-1}function v(e){return e.length==1?"0"+e:""+e}function L(e){return e<=1&&(e=e*100+"%"),e}function $e(e){return Math.round(parseFloat(e)*255).toString(16)}function ye(e){return m(e)/255}var p=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function A(e){return!!p.CSS_UNIT.exec(e)}function Mr(e){e=e.replace(dr,"").replace(fr,"").toLowerCase();var t=!1;if(X[e])e=X[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=p.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=p.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=p.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=p.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=p.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=p.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=p.hex8.exec(e))?{r:m(n[1]),g:m(n[2]),b:m(n[3]),a:ye(n[4]),format:t?"name":"hex8"}:(n=p.hex6.exec(e))?{r:m(n[1]),g:m(n[2]),b:m(n[3]),format:t?"name":"hex"}:(n=p.hex4.exec(e))?{r:m(n[1]+""+n[1]),g:m(n[2]+""+n[2]),b:m(n[3]+""+n[3]),a:ye(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=p.hex3.exec(e))?{r:m(n[1]+""+n[1]),g:m(n[2]+""+n[2]),b:m(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Cr(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function Ur(){const e=[],t=new RegExp(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*(0(\.0*)?)\)/);if(document.querySelectorAll("button").forEach(a=>{const s=window.getComputedStyle(a),c=s.getPropertyValue("background-color"),u=s.getPropertyValue("color");s.getPropertyValue("display")!=="none"&&!t.test(c)&&e.push({backgroundColor:c,color:u,classList:a.classList.toString()})}),e.length===0)return null;const n=new RegExp(/btn.*|.*button.*/i),o=e.every(a=>!n.test(a.classList))?e:e.filter(a=>n.test(a.classList));if(o.length===0)return null;if(o.length===1)return J(o[0].backgroundColor,o[0].color);const{mostFrequentColor:i}=o.reduce((a,s)=>{const c=s.backgroundColor;return a.colors[c]=(a.colors[c]||0)+1,a.colors[c]>a.maxCount&&(a.maxCount=a.colors[c],a.mostFrequentColor={backgroundColor:s.backgroundColor,color:s.color}),a},{colors:{},mostFrequentColor:null,maxCount:0});return J(i.backgroundColor,i.color)}async function Br(){var e;try{const t=((e=document.querySelector('link[rel~="icon"]'))==null?void 0:e.href)||new URL("/favicon.ico",window.location.origin).toString(),{width:n,height:r}=await Nr(t);return n<35||r<30?null:t}catch{return null}}function Or(){return window.getComputedStyle(document.body).getPropertyValue("font-family")}function Nr(e){return new Promise((t,n)=>{const r=new Image;r.src=e,r.onload=()=>t({width:r.width,height:r.height}),r.onerror=n})}function Hr(e){const t=e.toRgb();return(t.r+t.g+t.b)/3>=245}function J(e,t){const n=l(e);if(!n.isValid())return null;const r=n.toString("hex"),o=n.isLight()?"black":"white";let i=o;if(t){const s=l(t).toString("hex");i=r===s?o:s}const a=Hr(n)?"black":r;return{backgroundColor:r,borderColor:a,color:i}}const E=Kr(),Fr=jr();var Ee,Re;let T=(Re=(Ee=window.__bt_tag_d)==null?void 0:Ee.siteInfo)==null?void 0:Re.websiteID;var Ie;const D=((Ie=window.__bt_tag_d)==null?void 0:Ie.orgID)||Vr(),M=qr(),Ae=zr();var ke;const Ye=((ke=window.__bt_intrnl)==null?void 0:ke.traceID)||Gr(),Xe=Wr();function Wr(){let e=sessionStorage.getItem("BT_sid");return e||(e=et(8,10),sessionStorage.setItem("BT_sid",e)),e}function Je(e){const t=new URL(import.meta.url),r=new URLSearchParams(t.search).get(e);if(!r)throw new Error(`${e} query param not found`);return r}function Qe(e){var t,n;if(["development","test"].includes("production")&&((n=(t=window.__bt_rlink_test)==null?void 0:t.params)!=null&&n[e]))return window.__bt_rlink_test.params[e]}function Vr(){const e=Qe("o");if(e)return e;const t=Je("o");return window.__bt_tag_d||(window.__bt_tag_d={}),window.__bt_tag_d.orgID=t,t}function qr(){const e=Qe("bt_env");if(e)return e;try{return Je("bt_env")}catch{return Ht}}function Kr(){return Ze("API_DOMAIN","api.btmessage.com")}function jr(){return Ze("ASSETS_LOCATION","cdn.btmessage.com")}function Ze(e,t){if(t==null||t==="")throw new Error("missing env var for "+e);return t}function zr(){var t,n;if(["development","test"].includes("production")&&((t=window.__bt_rlink_test)!=null&&t.hostname))return(n=window.__bt_rlink_test)==null?void 0:n.hostname;let e=lr.hostname;try{if(e==="disqusservice.com"){const r=new URLSearchParams(w.location.search);e=new URL(r.get("sourceUrl")).hostname+"-disqus"}}catch{e=w.location.hostname}return e.startsWith("www.")&&(e=e.replace("www.","")),e}function et(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(Math.random()*(t+1-e))+e;let o="";for(let i=0;i<r;i++)o+=n.charAt(Math.floor(Math.random()*n.length));return o}function Gr(){return window.__bt_intrnl=window.__bt_intrnl||{},window.__bt_intrnl.traceID=et(8,10),window.__bt_intrnl.traceID}async function $r(){var i,a;if(k&&((i=window.__bt_tag_am)!=null&&i.settings))return window.__bt_tag_am.settings;if(window.__bt_tag_am=window.__bt_tag_am||{},!D||!Ae)throw new Error("orgID or hostname not found");const e=new URL(`https://${E}/websiteconfig`),t=ce();e.searchParams.set("bt_env",M),e.searchParams.set("o",D),e.searchParams.set("w",Ae),e.searchParams.set("l",t);const n=await fetch(e.toString());if(!n.ok)throw new Error(`Settings request failed. URL: ${e}; StatusCode: ${n.status}`);const r=await n.json();window.__bt_tag_am.settings=r.messageWall;const o=(a=r.tagData)==null?void 0:a.w;return window.__bt_tag_d||(window.__bt_tag_d={}),window.__bt_tag_d.siteInfo||(window.__bt_tag_d.siteInfo={}),window.__bt_tag_d.siteInfo.websiteID=o,T=o,window.__bt_tag_am.settings}let H=null;const Yr=async()=>H||(H=$r(),H),tt=async e=>e.logo||e.disable_automatic_detection?e.logo:Br(),nt=e=>e.font_type?`${e.font_type}, sans-serif`:e.disable_automatic_detection?'"Segoe UI", Helvetica, Arial, sans-serif;':Or(),rt=e=>e.cta_button_color?J(e.cta_button_color):e.disable_automatic_detection?null:Ur(),ot=async()=>{const e=await Yr(),t=e.view||"modal",n=Number(e.page_views_to_render),r=Number(e.render_interval_days),o=Number(e.attribution_window_days),i=!!e.allow_render_to_aa_users,a=await tt(e),s=nt(e),c=rt(e);return{...e,logo:a,font_type:s,view:t,page_views_to_render:n,render_interval_days:r,attribution_window_days:o,allow_render_to_aa_users:i,button_style:c,i18n:e.i18n}};async function Xr(e,t,n){var i;if(k&&((i=window.__bt_tag_am)!=null&&i.settings))return{settings:window.__bt_tag_am.settings};if(!D||!e||!n)throw new Error("Required data not found to fetch render settings");const r=new URL(`https://${E}/mw/settings`);r.searchParams.set("bt_env",M),r.searchParams.set("o",D),r.searchParams.set("w",e),r.searchParams.set("r",String(n.ab)),r.searchParams.set("aa",String(n.acceptable)),r.searchParams.set("l",ce()),t!=null&&t.renderDate&&r.searchParams.set("rts",t.renderDate.getTime().toString()),t!=null&&t.attributionExpiry&&r.searchParams.set("exp",t.attributionExpiry.toString()),t!=null&&t.recoveryType&&r.searchParams.set("rec",t.recoveryType);const o=await fetch(r.toString(),{method:"GET"});if(!o.ok)throw new Error(`Settings request failed. URL: ${r}; StatusCode: ${o.status}`);return o.status===204?null:await o.json()}let F=null;const Jr=async(e,t,n)=>F||(F=Xr(e,t,n),F),Qr=async e=>{if(!e)return null;const t=e.view||"modal",n=Number(e.page_views_to_render),r=Number(e.attribution_window_days),o=!!e.allow_render_to_aa_users,i=await tt({logo:e.logo,disable_automatic_detection:e.disable_automatic_detection}),a=nt({font_type:e.font_type,disable_automatic_detection:e.disable_automatic_detection}),s=rt({cta_button_color:e.cta_button_color,disable_automatic_detection:e.disable_automatic_detection});return{...e,logo:i,view:t,page_views_to_render:n,attribution_window_days:r,allow_render_to_aa_users:o,font_type:a,button_style:s}},Zr=async(e,t,n)=>{const r=await Jr(e,t,n);if(r){const o=r.attribution,i=await Qr(r.settings),a=i?!1:!!(o!=null&&o.renderDate)&&!!(o!=null&&o.attributionExpiry);return{settings:i,recovered:a,userState:t,sign:r.sign,message:"get settings"}}return{settings:void 0,recovered:!1,sign:null,userState:t,message:"no response"}},eo=async(e,t,n)=>{try{return Zr(e,t,n)}catch(r){return b("rlink.getSettingsError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:r instanceof Error?r.message:r},{severity:4}),{settings:{},recovered:!1,sign:null,userState:t,message:"error on fetch settings"}}};async function to(e,t,n){const r=Wn(),o=await eo(T,r,t);no(e,o,n)}function no(e,t,n){if(!!n!==t.recovered){b("rlink.recoveryStateMismatch",{aaResults:window.__bt_intrnl.aaDetectionResults,swRecovered:n,newSettings:{recovered:t.recovered},storageData:t.userState,message:t.message},{severity:4});return}if(t.settings){const r=t.settings,o=it(e,r);Object.keys(o).length>0&&b("rlink.settingsMismatch",{aaResults:window.__bt_intrnl.aaDetectionResults,settingsDiff:o},{severity:4})}}function it(e,t){const n=["cta_button_color","custom_css","font_type","button_style"],r={};for(const o in t){const i=n.includes(o);if(e[o]!==t[o]&&!i)if(typeof e[o]=="object"&&typeof t[o]=="object"&&e[o]!==null&&t[o]!==null)if(Array.isArray(e[o])&&Array.isArray(t[o]))ro(e[o],t[o])||(r[o]={old:e[o],new:t[o]});else{const a=it(e[o],t[o]);Object.keys(a).length>0&&(r[o]=a)}else r[o]={old:e[o],new:t[o]}}return r}function ro(e,t){return e.length!==t.length?!1:JSON.stringify([...e].sort())===JSON.stringify([...t].sort())}class oo{constructor(t){y(this,"onDismiss",async t=>{await ln()||(await un(t),x({...t,event:"dismiss",detectedExtension:this.detectedExtension}))});this.detectedExtension=t}}class io{constructor(t){y(this,"onDismiss",t=>{x({...t,event:"dismiss",detectedExtension:this.detectedExtension})});this.detectedExtension=t}}const ao=(e,t)=>t.render_mode==="api"&&t.api_mode==="wait"?new io(e):new oo(e),so=(e,t,n)=>{const{isActive:r,attributionExpiry:o}=ze(e,n),i=ae();r&&!i&&(Lt(),b("rlink.appendKVP",{aaResults:window.__bt_intrnl.aaDetectionResults,attributionExpiry:o,consentData:window.__bt_intrnl.consentData},{severity:1})),hn()||(mn(e,o),x({event:"recovered",recoveryType:e,detectedExtension:t}))},co=(e,t)=>{In(e),x({event:"flattr",detectedExtension:t})},lo=(e,t,n,r,o,i)=>{if(!window.__bt_intrnl.rlPVSent){window.__bt_intrnl.rlPVSent=!0;let a="non_ab_pageview";n.ab&&(a=n.acceptable?"aa_pageview":"ab_pageview");const{isActive:s}=ze(t,i);(e||s)&&x({event:a,detectedExtension:r,consentMessageShown:o}).catch(c=>{b("rlink.onPageViewError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:c instanceof Error?c.message:c},{severity:4})})}},uo=(e,t)=>{const[n]=w.performance.getEntriesByType("navigation"),r=(n==null?void 0:n.type)==="reload";!An()&&!r&&(Sn(),x({event:"navigate-away",detectedExtension:e,renderMode:t.render_mode}))};class fo{constructor(t,n,r){y(this,"out",{API_READY_EVENT:"bt-rlink-api-ready"});y(this,"interval");this.api=t,this.eventHandler=n,this.apiReadyEventInterval=r}async start(){this.api.start(),this.startDispatchingReadyEvent()}sendReadyEvent(){const t=this.api.getAPIPayload();this.eventHandler.dispatchEvent(new CustomEvent(this.out.API_READY_EVENT,{detail:{api:()=>(this.stopDispatchingReadyEvent(),t)}}))}startDispatchingReadyEvent(){this.sendReadyEvent(),this.interval=setInterval(()=>{this.sendReadyEvent()},this.apiReadyEventInterval)}stopDispatchingReadyEvent(){clearInterval(this.interval)}}class go{constructor(t,n){y(this,"shouldRender",!0);this.render=t,this.apiPreventWaitTime=n}start(){this.renderIfNotPrevented()}getAPIPayload(){return{prevent:()=>{this.preventRender()},render:()=>{this.render()}}}renderIfNotPrevented(){setTimeout(()=>{this.shouldRender&&this.render()},this.apiPreventWaitTime)}preventRender(){this.shouldRender=!1}}class ho{constructor(t){this.render=t}start(){}getAPIPayload(){return{render:()=>{this.render()}}}}const _o=200,mo=50;class bo{constructor(t,n={},r=window){y(this,"eventManager");let o;const{mode:i="wait",apiReadyEventInterval:a=_o,apiPreventWaitTime:s=mo}=n;i==="auto"?o=new go(t,s):o=new ho(t),this.eventManager=new fo(o,r,a)}expose(){this.eventManager.start()}}const po=!0;(async()=>{var le,ue;if(window.__bt_rlink_already_invoked)return;Ln(),window.__bt_rlink_already_invoked=!0,ge("version","82146e4-am"),ge("isMobile",ae()?"true":"false");let e;try{e=await ot()}catch(_){b("rlink.getSettingsError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:_ instanceof Error?_.message:_},{severity:4}),e={}}const{allow_render_to_aa_users:t,hard_message_wall_mode_enabled:n,attribution_window_days:r}=e;!e.enabled&&po&&_e();const[o,i,a,s]=await Promise.all([kt(),Jt(e),Gn(e),Fn()]).catch(_=>(b("rlink.getDetectionError",{aaResults:window.__bt_intrnl.aaDetectionResults,error:_ instanceof Error?_.message:_},{severity:4}),[]));let c="unknown";const u={adblockplus:"abp",adblock:"ab"};a!=null&&a.extensionInfo&&a.extensionInfo.name in u?c=u[a.extensionInfo.name]:c=await Xt(),window.__bt_intrnl.consentData=s;const g=_n(e,o,(le=a==null?void 0:a.extensionInfo)==null?void 0:le.allowlistState);if(lo(e.enabled,g,o,c,s.consentShownInCurrentPV,r),!s.isConsentGiven){_e();return}const d=Qn(o,t)||s.consentShownInCurrentPV;if(!i&&d)return;const R=()=>{uo(c,e)},P=_=>{_==="subscribe"?window.addEventListener("beforeunload",R):window.removeEventListener("beforeunload",R)};if(g&&b("rlink.scaState",{aaResults:window.__bt_intrnl.aaDetectionResults,scaFlag:Be(),recoveryType:g,extAllowlistState:(ue=a==null?void 0:a.extensionInfo)==null?void 0:ue.allowlistState},{severity:2}),e.enabled&&to(e,o,g),g){so(g,c,r);return}const C=ao(c,e),U=_=>{P("unsubscribe"),C.onDismiss(_)},B=await cn();if(B&&!n){U(B);return}if(a!=null&&a.isPremium){co(a,c);return}!d&&await Jn(e)&&At(async()=>{const{render:_}=await import("../assets/App-DM6xDZzB.js");return{render:_}},[]).then(({render:_})=>{const at={settings:e,onDismiss:U,beforeUnload:P,detectedExtension:c,aaDetectionResults:o},de=()=>_(at);e.render_mode==="api"?new bo(de,{mode:e.api_mode}).expose():de()})})();export{er as D,k as R,x as a,wt as b,E as c,M as d,Ao as e,on as f,cn as g,vo as h,_e as i,So as j,Eo as k,b as l,tr as m,Fr as n,Ro as r,yo as s,T as w};
//# sourceMappingURL=82146e4-am.js.map
